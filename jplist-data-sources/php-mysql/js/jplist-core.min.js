/*
 jPList - jQuery Data Grid Controls - http://jplist.com 
 Copyright 2011 - 2014 Miriam Zusin.
 The MIT License (MIT) http://opensource.org/licenses/MIT
*/
(function(){var c=function(b,e){var a=jQuery({});a.$root=e;a.events={renderStatusesEvent:"1",setStatusesEvent:"2",forceRenderStatusesEvent:"3",restoreEvent:"4",statusEvent:"5",sortEvent:"6",filterEvent:"7",paginationEvent:"8",changeUrlDeepLinksEvent:"9",setDeepLinksEvent:"10",addItemEvent:"11",delItemEvent:"12",collectionReadyEvent:"13",animationStartEvent:"14",animationStepEvent:"15",animationCompleteEvent:"16",renderList:"17"};a={controller:null,observer:a,events:null,panel:null,$root:e};a.options=
jQuery.extend(!0,{debug:!1,itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null},
render:null}},b);a.history=new jQuery.fn.jplist.app.History(a.$root,a.options,a.observer);a.panel=new jQuery.fn.jplist.ui.panel.controllers.PanelController(e,a.options,a.history,a.observer);a.options.dataSource=a.options.dataSource||{};a.options.dataSource.type=a.options.dataSource.type||"html";jQuery.fn.jplist.info(a.options,"Data Source Type: ",a.options.dataSource.type);switch(a.options.dataSource.type){case "html":new jQuery.fn.jplist.ui.list.controllers.DOMController(a.$root,a.options,a.observer,
a.panel,a.history);break;case "server":jQuery.fn.jplist.info(a.options,"Data Source: ",a.options.dataSource),new jQuery.fn.jplist.ui.list.controllers.ServerController(a.$root,a.options,a.observer,a.panel,a.history)}var d=[],f=!1;a.options.deepLinking?(jQuery.fn.jplist.info(a.options,"Deep linking enabled",""),a.observer.trigger(a.observer.events.setDeepLinksEvent,[])):(f="cookies"===a.options.storage||"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())?
(jQuery.fn.jplist.info(a.options,"Storage enabled: ",a.options.storage),"cookies"===a.options.storage&&(d=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(a.options.storageName)),"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(d=jQuery.fn.jplist.dal.services.LocalStorageService.restore(a.options.storageName)),0<d.length?a.observer.trigger(a.observer.events.restoreEvent,[d]):a.observer.trigger(a.observer.events.forceRenderStatusesEvent,
[!0])):a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!0]);return jQuery.extend(this,a)};jQuery.fn.jplist=function(b){return this.each(function(){var e=new c(b,jQuery(this));jQuery(this).data("jplist",e)})};jQuery.fn.jplist.controlTypes={};jQuery.fn.jplist.itemControlTypes={};jQuery.fn.jplist.settings={};jQuery.fn.jplist.app=jQuery.fn.jplist.app||{};jQuery.fn.jplist.app.services=jQuery.fn.jplist.app.services||{};jQuery.fn.jplist.app.services.DTOMapperService=jQuery.fn.jplist.app.services.DTOMapperService||
{};jQuery.fn.jplist.app.dto=jQuery.fn.jplist.app.dto||{};jQuery.fn.jplist.domain=jQuery.fn.jplist.domain||{};jQuery.fn.jplist.domain.dom=jQuery.fn.jplist.domain.dom||{};jQuery.fn.jplist.domain.dom.models=jQuery.fn.jplist.domain.dom.models||{};jQuery.fn.jplist.domain.dom.collections=jQuery.fn.jplist.domain.dom.collections||{};jQuery.fn.jplist.domain.dom.services=jQuery.fn.jplist.domain.dom.services||{};jQuery.fn.jplist.domain.dom.services.FiltersService=jQuery.fn.jplist.domain.dom.services.FiltersService||
{};jQuery.fn.jplist.domain.dom.services.SortService=jQuery.fn.jplist.domain.dom.services.SortService||{};jQuery.fn.jplist.domain.dom.services.pagination=jQuery.fn.jplist.domain.dom.services.pagination||{};jQuery.fn.jplist.domain.server=jQuery.fn.jplist.domain.server||{};jQuery.fn.jplist.domain.server.models=jQuery.fn.jplist.domain.server.models||{};jQuery.fn.jplist.dal=jQuery.fn.jplist.dal||{};jQuery.fn.jplist.dal.services=jQuery.fn.jplist.dal.services||{};jQuery.fn.jplist.ui=jQuery.fn.jplist.ui||
{};jQuery.fn.jplist.ui.list=jQuery.fn.jplist.ui.list||{};jQuery.fn.jplist.ui.list.models=jQuery.fn.jplist.ui.list.models||{};jQuery.fn.jplist.ui.list.controllers=jQuery.fn.jplist.ui.list.controllers||{};jQuery.fn.jplist.ui.list.collections=jQuery.fn.jplist.ui.list.collections||{};jQuery.fn.jplist.ui.list.views=jQuery.fn.jplist.ui.list.views||{};jQuery.fn.jplist.ui.controls=jQuery.fn.jplist.ui.controls||{};jQuery.fn.jplist.ui.itemControls=jQuery.fn.jplist.ui.itemControls||{};jQuery.fn.jplist.ui.statuses=
jQuery.fn.jplist.ui.statuses||{};jQuery.fn.jplist.ui.panel=jQuery.fn.jplist.ui.panel||{};jQuery.fn.jplist.ui.panel.controllers=jQuery.fn.jplist.ui.panel.controllers||{};jQuery.fn.jplist.ui.panel.collections=jQuery.fn.jplist.ui.panel.collections||{}})();(function(){jQuery.fn.jplist.app.dto.StatusDTO=function(c,b,e,a,d,f,g,h){this.action=b;this.name=c;this.type=e;this.data=a;this.inStorage=d;this.inAnimation=f;this.isAnimateToTop=g;this.inDeepLinking=h}})();(function(){var c=function(b,e,a){return jQuery.extend(this,{options:e,observer:a,$root:b,statusesQueue:[],listStatusesQueue:[]})};c.prototype.addStatus=function(b){this.statusesQueue.push(b);this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()};c.prototype.getLastStatus=function(){var b=null;0<this.statusesQueue.length&&(b=this.statusesQueue[this.statusesQueue.length-1]);return b};c.prototype.popStatus=function(){var b=null;0<this.statusesQueue.length&&(b=this.statusesQueue.pop());
return b};c.prototype.getLastList=function(){var b=null;0<this.listStatusesQueue.length&&(b=this.listStatusesQueue[this.listStatusesQueue.length-1]);return b};c.prototype.addList=function(b){this.listStatusesQueue.push(b);this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()};c.prototype.popList=function(){var b=null;0<this.listStatusesQueue.length&&(b=this.listStatusesQueue.pop());return b};jQuery.fn.jplist.app.History=function(b,e,a){return new c(b,e,a)}})();(function(){var c=function(b,e,a){return jQuery.extend(this,{options:b,observer:e,statuses:a})};c.prototype.findStatusByField=function(b,e){for(var a=-1,d,f=0;f<this.statuses.length;f++)if(d=this.statuses[f],d[e]===b[e]){a=f;break}return a};c.prototype.getStatusesByAction=function(b){for(var e=[],a,d=0;d<this.statuses.length;d++)a=this.statuses[d],a.action===b&&e.push(a);return e};jQuery.fn.jplist.app.dto.StatusesDTOCollection=function(b,e,a){return new c(b,e,a)}})();(function(){jQuery.fn.jplist.app.services.DTOMapperService.filters={};jQuery.fn.jplist.app.services.DTOMapperService.filters.TextFilter=function(c,b){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(c.data.value,e,b,c.data.ignore)};jQuery.fn.jplist.app.services.DTOMapperService.filters.path=function(c,b){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c.data.path,null);
return jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(e,b)};jQuery.fn.jplist.app.services.DTOMapperService.filters.range=function(c,b){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(e,b,c.data.min,c.data.max,c.data.prev,c.data.next)};jQuery.fn.jplist.app.services.DTOMapperService.filters.date=function(c,b){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c.data.path,
null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter(c.data.year,c.data.month,c.data.day,e,b,c.data.format)};jQuery.fn.jplist.app.services.DTOMapperService.filters.dateRange=function(c,b){var e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter(e,b,c.data.format,c.data.prev_year,c.data.prev_month,c.data.prev_day,c.data.next_year,c.data.next_month,c.data.next_day)};jQuery.fn.jplist.app.services.DTOMapperService.filters.pathGroup=
function(c,b){return jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter(c.data.pathGroup,b)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textGroup=function(c,b){return jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter(c.data.textGroup,c.data.logic,c.data.path,c.data.ignoreRegex,b)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textFilterPathGroup=function(c,b){return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup(c.data.textAndPathsGroup,
c.data.ignoreRegex,b)};jQuery.fn.jplist.app.services.DTOMapperService.filters.autocomplete=function(c,b){return jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter(c.data.latitude,c.data.longitude,c.data.name,b,c.data.radius)};jQuery.fn.jplist.app.services.DTOMapperService.sort={};jQuery.fn.jplist.app.services.DTOMapperService.sort.text=function(c,b,e){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c.data.path,c.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(b,
e,c.data.order,a,c.data.ignore||"")};jQuery.fn.jplist.app.services.DTOMapperService.sort.number=function(c,b,e){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c.data.path,c.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(b,e,c.data.order,a)};jQuery.fn.jplist.app.services.DTOMapperService.sort.datetime=function(c,b,e){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(c.data.path,c.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(b,
e,c.data.order,a,c.data.dateTimeFormat||"")}})();(function(){jQuery.fn.jplist.logEnabled=function(c){return c.debug&&window.console&&jQuery.isFunction(window.console.log)};jQuery.fn.jplist.log=function(c,b,e){jQuery.fn.jplist.logEnabled(c)&&window.console.log(b,e)};jQuery.fn.jplist.info=function(c,b,e){jQuery.fn.jplist.logEnabled(c)&&window.console.info(b,e)};jQuery.fn.jplist.error=function(c,b,e){jQuery.fn.jplist.logEnabled(c)&&window.console.error(b,e)};jQuery.fn.jplist.warn=function(c,b,e){jQuery.fn.jplist.logEnabled(c)&&window.console.warn(b,
e)}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel=function(c,b){this.jqPath=c;this.dataType=b};jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel.prototype.isEqual=function(c,b){var e=!1;b?this.jqPath===c.jqPath&&(e=!0):this.jqPath===c.jqPath&&this.dataType===c.dataType&&(e=!0);return e}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberModel=function(c,b){this.$element=c;this.path=b;this.text=c.text();this.html=c.html()}})();(function(){var c=function(b,e,a){a={html:null,pathitems:[],$item:b,index:a};a.html=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(b);var d,f;b=[];for(var c=0;c<e.length;c++)d=e[c],f=a.$item.find(d.jqPath),0<f.length&&(d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberModel(f,d),b.push(d));a.pathitems=b;return jQuery.extend(this,a)};c.prototype.findPathitem=function(b){for(var e=null,a,d=0;d<this.pathitems.length;d++)if(a=this.pathitems[d],a.path.isEqual(b,!0)){e=a;break}return e};
jQuery.fn.jplist.domain.dom.models.DataItemModel=function(b,e,a){b=new c(b,e,a);this.html=b.html;this.jqElement=b.$item;this.pathitems=b.pathitems;this.findPathitem=b.findPathitem}})();(function(){var c=function(a,d){var b,f,e;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,d)).getStatusesByAction("filter",d);if(0<b.length){for(var c=0;c<b.length;c++)if((f=b[c])&&f.data&&f.data.filterType)e=jQuery.fn.jplist.app.services.DTOMapperService.filters[f.data.filterType],jQuery.isFunction(e)&&(a.dataview=e(f,a.dataview));a.observer.trigger(a.observer.events.filterEvent,[d,a])}},b=function(a,d){var b,f=null,e;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,
a.observer,d)).getStatusesByAction("paging",d);if(0<b.length){for(var c=0;c<b.length;c++)f=b[c],e=f.data.currentPage||0,f=new jQuery.fn.jplist.domain.dom.services.PaginationService(e,f.data.number,a.dataview.length),b[c].data.paging=f,a.dataview=jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter(f,a.dataview);a.observer.trigger(a.observer.events.paginationEvent,[d,a])}},e=function(a,d){var b;b=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,d)).getStatusesByAction("sort",
d);0<b.length&&(jQuery.fn.jplist.domain.dom.services.SortService.doubleSort(b,a.dataview),a.observer.trigger(a.observer.events.sortEvent,[d,a]))},a=function(a){return jQuery(a.dataview).map(function(a,d){return d.jqElement.get()})},d=function(a){return jQuery(a.dataitems).map(function(a,d){return d.jqElement.get()})},f=function(a){a.dataview=jQuery.merge([],a.dataitems)},g=function(a,d){for(var b,f=-1,e,c=0;c<a.dataitems.length;c++)if(b=a.dataitems[c],b=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(b.jqElement),
e=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(d),b===e){f=c;break}return f},h=function(a,d){var b;b=g(a,d);-1!==b&&(a.dataitems.splice(b,1),a.observer.trigger(a.observer.events.delItemEvent,[d,a.dataitems]))},k=function(a,d){d.each(function(){h(a,jQuery(this))})},l=function(a,d,b,f){d=new jQuery.fn.jplist.domain.dom.models.DataItemModel(d,b,f);a.dataitems.push(d);a.observer.trigger(a.observer.events.addItemEvent,[d,a.dataitems])},n=function(a,d,b,f){for(var e;b<d.length;b++)e=
d.eq(b),l(a,e,f,b),b+1<d.length&&0===b%50&&window.setTimeout(function(){n(a,d,b,f)},0)},m=function(a,d,b,e){a={dataitems:[],dataview:[],options:a,observer:d};0<b.length&&(n(a,b,0,e),f(a));a.observer.trigger(a.observer.events.collectionReadyEvent,[a]);return jQuery.extend(this,a)};m.prototype.applyStatuses=function(a){f(this);e(this,a);c(this,a);b(this,a);this.observer.trigger(this.observer.events.renderList,[this,a])};m.prototype.filter=function(a){c(this,a)};m.prototype.sort=function(a){e(this,a)};
m.prototype.pagination=function(a){b(this,a)};m.prototype.dataviewToJqueryObject=function(){return a(this)};m.prototype.dataitemsToJqueryObject=function(){return d(this)};m.prototype.resetDataview=function(){f(this)};m.prototype.empty=function(){this.dataitems=[];this.dataview=[]};m.prototype.addDataItem=function(a,d,b){l(this,a,d,b)};m.prototype.addDataItems=function(a,d){n(this,a,0,d);f(this)};m.prototype.delDataitem=function(a){h(this,a)};m.prototype.delDataitems=function(a){k(this,a)};m.prototype.indexOf=
function(a){return g(this,a)};m.prototype.dataviewToString=function(){var a,d="",b;for(b=0;b<this.dataview.length;b++)a=this.dataview[b],d+=a.content;return d};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection=function(a,d,b,f){b=new m(a,d,b,f);this.observer=d;this.options=a;this.dataitems=b.dataitems;this.dataview=b.dataview;this.sort=b.sort;this.filter=b.filter;this.pagination=b.pagination;this.applyStatuses=b.applyStatuses;this.addDataItem=b.addDataItem;this.addDataItems=b.addDataItems;
this.resetDataview=b.resetDataview;this.indexOf=b.indexOf;this.delDataitem=b.delDataitem;this.delDataitems=b.delDataitems;this.empty=b.empty;this.dataviewToString=b.dataviewToString;this.dataviewToJqueryObject=b.dataviewToJqueryObject;this.dataitemsToJqueryObject=b.dataitemsToJqueryObject}})();(function(){var c=function(b,a){for(var d,f=!1,c=0;c<b.paths.length;c++)if(d=b.paths[c],d.isEqual(a,!0)){f=!0;break}return f},b=function(b,a){return jQuery.extend(this,{options:b,observer:a,paths:[]})};b.prototype.add=function(b){c(this,b)||this.paths.push(b)};b.prototype.addRange=function(b){for(var a=0;a<b.length;a++){var d=b[a];c(this,d)||this.paths.push(d)}};b.prototype.isPathInList=function(b){return c(this,b)};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection=function(c,a){return new b(c,
a)}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationService=function(c,b,e){e=Number(e);isNaN(e)&&(e=0);e=this.itemsNumber=e;null===b?b=e:(b=Number(b),isNaN(b)&&(b=e));this.itemsOnPage=b;b=(b=this.itemsOnPage)?Math.ceil(this.itemsNumber/b):0;b=this.pagesNumber=b;c=Number(c);isNaN(c)&&(c=0);c>b-1&&(c=0);this.currentPage=c;this.start=this.currentPage*this.itemsOnPage;c=this.itemsNumber;b=this.start+this.itemsOnPage;b>c&&(b=c);this.end=b;c=this.currentPage;this.prevPage=0>=c?0:c-1;c=this.currentPage;
b=this.pagesNumber;this.nextPage=0===b?0:c>=b-1?b-1:c+1}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationGoogleService=function(c,b,e){e=Number(e);isNaN(e)&&(e=0);e=this.itemsNumber=e;null===b?b=e:(b=Number(b),isNaN(b)&&(b=e));this.itemsOnPage=b;b=(b=this.itemsOnPage)?Math.ceil(this.itemsNumber/b):0;b=this.pagesNumber=b;c=Number(c);isNaN(c)&&(c=0);c>b-1&&(c=0);this.currentPage=c;this.start=this.currentPage*this.itemsOnPage;c=this.itemsNumber;b=this.start+this.itemsOnPage;b>c&&(b=c);this.end=b;c=this.currentPage;this.prevPage=0>=c?0:c-1;c=this.currentPage;
b=this.pagesNumber;this.nextPage=0===b?0:c>=b-1?b-1:c+1}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.autocompleteFilter=function(c,b,e,a,d){var f=[],g,h;if(jQuery.isNumeric(c)&&jQuery.isNumeric(b)&&google&&jQuery.fn.jlocator&&jQuery.fn.jlocator.store){c=new google.maps.LatLng(c,b);for(var k=0;k<a.length;k++)b=a[k],g=new jQuery.fn.jlocator.store(b.jqElement,{}),h=g.country?jQuery.trim(g.country.toLowerCase())==jQuery.trim(e.toLowerCase()):!1,g=google.maps.geometry.spherical.computeDistanceBetween(c,g.latlng),(g<=d||h)&&f.push(b);return f}return a}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter=function(c,b,e,a,d,f){for(var g,h,k=[],l=0;l<d.length;l++)if(g=d[l],h=g.findPathitem(a))!c||!b||!e?k.push(g):(h=jQuery.fn.jplist.domain.dom.services.SortService.jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(h.text,f))&&"function"===typeof h.getFullYear&&h.getFullYear()===c&&(h.getMonth()-1===b&&h.getDate()===e)&&k.push(g);return k}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter=function(c,b,e,a,d,f,g,h,k){for(var l=[],n,m,q,p,r=0;r<b.length;r++)if(n=b[r],m=n.findPathitem(c))if(q=!jQuery.isNumeric(a)||!jQuery.isNumeric(d)||!jQuery.isNumeric(f),p=!jQuery.isNumeric(g)||!jQuery.isNumeric(h)||!jQuery.isNumeric(k),q||p)l.push(n);else if((p=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(m.text,e))&&jQuery.isFunction(p.getFullYear))m=new Date(a,d,f),q=new Date(g,h,k),p.setHours(0),
p.setMinutes(0),p.setSeconds(0),p>=m&&p<=q&&l.push(n);return l}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter=function(c,b){return b.slice(c.start,c.end)}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter=function(c,b){for(var e,a,d=[],f=0;f<b.length;f++)e=b[f],"default"===c.jqPath?d.push(e):(a=e.findPathitem(c))&&d.push(e);return d}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter=function(c,b){var e,a=[],d,f=[];if(0>=c.length)return b;for(d=0;d<c.length;d++)e=c[d],e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(e,null),a.push(e);for(var g=0;g<b.length;g++){d=b[g];for(var h=0;h<a.length;h++)if(e=a[h],"default"===e.jqPath){f.push(d);break}else(e=d.findPathitem(e))&&f.push(d)}return f}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter=function(c,b,e,a,d,f){e=[];for(var g,h=jQuery.isNumeric(d),k=jQuery.isNumeric(f),l=0;l<b.length;l++)if(a=b[l],g=a.findPathitem(c))g=Number(g.text.replace(/[^-0-9\.]+/g,"")),isNaN(g)||(h&&k?g>=d&&g<=f&&e.push(a):h&&!k?g>=d&&e.push(a):!h&&k&&g<=f&&e.push(a));return e}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter=function(c,b,e,a){for(var d,f,g=[],h,k=0;k<e.length;k++)d=e[k],f=d.findPathitem(b),"default"===b.jqPath?g.push(d):f&&(f=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(f.text,a),h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(c,a),-1!==f.indexOf(h)&&g.push(d));return g}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup=function(c,b,e){var a,d,f=[],g=[],h,k;for(k=0;k<c.length;k++)h=c[k],h.selected&&(a=h.path,d=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a,null),h.pathObj=d,f.push(h));if(0>=f.length)return e;for(a=0;a<e.length;a++){c=e[a];k=!1;for(var l=0;l<f.length;l++)if(h=f[l],d=h.pathObj)if("default"===d.jqPath){k=!0;break}else if(d=c.findPathitem(d))d=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(d.text,
b),h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h.text,b),-1!==d.indexOf(h)&&(k=!0);k&&g.push(c)}return g}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter=function(c,b,e,a,d){var f,g,h,k=[],l,n;if(0>=c.length)return d;h=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(e,null);for(var m=0;m<d.length;m++)if(e=d[m],g=e.findPathitem(h),"default"===h.jqPath)k.push(e);else if(g)if(g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(g.text,a),"or"===b)for(n=0;n<c.length;n++){if(f=c[n],f=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(f,
a),-1!==g.indexOf(f)){k.push(e);break}}else{l=[];for(n=0;n<c.length;n++)f=c[n],f=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(f,a),-1!==g.indexOf(f)&&l.push(f);l.length===c.length&&k.push(e)}return k}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper=function(c,b,e,a,d){c=c.findPathitem(a);b=b.findPathitem(a);return c&&b?(jQuery.trim(d)?(a=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(c.text,d),d=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(b.text,d)):(a=new Date(Date.parse(c.text)),d=new Date(Date.parse(b.text))),a==d?0:"asc"==e?a>d?1:-1:a<d?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.datetime=function(c,b,e,a){e.sort(function(d,
f){return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(d,f,c,b,a)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper=function(c,b,e,a){c=c.findPathitem(a);b=b.findPathitem(a);return c&&b?(a=parseFloat(c.text.replace(/[^-0-9\.]+/g,"")),b=parseFloat(b.text.replace(/[^-0-9\.]+/g,"")),e=a==b?0:"asc"==e?isNaN(a)?1:isNaN(b)?-1:a-b:isNaN(a)?1:isNaN(b)?-1:b-a):0};jQuery.fn.jplist.domain.dom.services.SortService.numbers=function(c,b,e){e.sort(function(a,d){return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(a,d,c,b)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.textHelper=function(c,b,e,a,d){c=c.findPathitem(a);b=b.findPathitem(a);return c&&b?(d?(a=RegExp(d,"ig"),d=c.text.toString().replace(a,"").toLowerCase(),c=b.text.toString().replace(a,"").toLowerCase()):(d=c.text.toString().toLowerCase(),c=b.text.toString().toLowerCase()),d==c?0:"asc"==e?d>c?1:-1:d<c?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.text=function(c,b,e,a){e.sort(function(d,f){return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(d,
f,c,b,a)})}})();(function(){var c=function(b,e,a,d){var f=0,g,h;0<a.length&&(g=a[d],"default"!=g.data.path?(h=jQuery.fn.jplist.app.services.DTOMapperService.sort[g.data.type],jQuery.isFunction(h)&&(f=h(g,b,e))):(f=b.index,g=e.index,f=f===g?0:isNaN(f)?1:isNaN(g)?-1:f-g),0===f&&d+1<a.length&&(f=c(b,e,a,d+1)));return f};jQuery.fn.jplist.domain.dom.services.SortService.doubleSort=function(b,e){var a=!1;1===b.length&&(b[0]&&b[0].data&&"default"===b[0].data.path)&&(a=!0);a||e.sort(function(a,f){return c(a,f,b,0)})}})();(function(){var c=function(b,a){var d=null;if("{month}"==b){a=a.toLowerCase();if("january"===a||"jan"===a||"jan."===a)d=0;if("february"===a||"feb"===a||"feb."===a)d=1;if("march"===a||"mar"===a||"mar."===a)d=2;if("april"==a||"apr"===a||"apr."===a)d=3;"may"===a&&(d=4);if("july"==a||"jun"===a||"jun."===a)d=5;if("april"===a||"jul"===a||"jul."===a)d=6;if("august"===a||"aug"===a||"aug."===a)d=7;if("september"===a||"sep"===a||"sep."===a)d=8;if("october"===a||"oct"===a||"oct."===a)d=9;if("november"===a||
"nov"===a||"nov."===a)d=10;if("december"===a||"dec"===a||"dec."===a)d=11;null===d&&(d=parseInt(a,10),isNaN(d)||d--)}else d=parseInt(a,10);return d},b=function(b,a){var d,f=null;d=b.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*");(d=RegExp(d,"g").exec(a))&&1<d.length&&(f=d[1]);return f};jQuery.fn.jplist.domain.dom.services.HelperService={};jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml=function(b){var a="",d=b[0].attributes,f=b.html();b=b[0].tagName.toString().toLowerCase();
for(var a=a+("<"+b),c=0;c<d.length;c++)d[c].nodeValue&&(a+=" "+d[c].nodeName+"=",a+='"'+d[c].nodeValue+'"');a=a+">"+f;return a+="</"+b+">"};jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters=function(b,a){return!b?"":b.replace(RegExp(a,"ig"),"").toLowerCase()};jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime=function(e,a){var d,f,g,h,k,l;a=a.replace(/\./g,"\\.");a=a.replace(/\(/g,"\\(");a=a.replace(/\)/g,"\\)");a=a.replace(/\[/g,"\\[");a=a.replace(/\]/g,"\\]");d=
a.replace("{year}","(.*)");(f=b(d,e))&&(f=c("{year}",f));d=a.replace("{day}","(.*)");(h=b(d,e))&&(h=c("{day}",h));d=a.replace("{month}","(.*)");(g=b(d,e))&&(g=c("{month}",g));d=a.replace("{hour}","(.*)");(k=b(d,e))&&(k=c("{hour}",k));d=a.replace("{min}","(.*)");(l=b(d,e))&&(l=c("{min}",l));d=a.replace("{sec}","(.*)");(d=b(d,e))&&(d=c("{sec}",d));if(!f||isNaN(f))f=1900;if(!g||isNaN(g))g=0;if(!h||isNaN(h))h=1;if(!k||isNaN(k))k=0;if(!l||isNaN(l))l=0;if(!d||isNaN(d))d=0;return new Date(f,g,h,k,l,d)}})();(function(){jQuery.fn.jplist.domain.server.models.DataItemModel=function(c,b,e){this.content="";this.dataType=b;this.count=0;this.responseText=e;this.dataType||(this.dataType="html");switch(this.dataType){case "html":b=jQuery(c);0<b.length&&(this.content=b.html(),this.count=Number(b.attr("data-count"))||0);break;case "json":this.content=c.data;this.count=c.count;break;case "xml":b=jQuery(c).find("root"),this.count=Number(b.attr("count"))||0,this.content=0<this.count?c:""}}})();(function(){jQuery.fn.jplist.animation={};jQuery.fn.jplist.animation.drawItems=function(c,b,e,a,d,f,g,h){var k,l,n;if(d=jQuery.fn.jplist.animation[d]){k=d.before;n=d.effect;l=d.after;jQuery.isFunction(k)&&k(c,b,e,a);if(jQuery.isFunction(n))h.on(h.events.animationStepEvent,function(d,f,g){n(c,b,e,a,f)});h.on(h.events.animationCompleteEvent,function(d){jQuery.isFunction(l)&&l(c,b,e,a);h.off(h.events.animationStepEvent);h.off(h.events.animationCompleteEvent);jQuery.isFunction(g)&&g()});f.play(c.duration)}else jQuery.isFunction(g)&&
g()}})();(function(){var c=function(a){a.handler&&window.clearTimeout(a.handler);a.progress=0;a.start=null;a.observer.trigger(a.observer.events.animationCompleteEvent,[])},b=function(a,d){jQuery.isNumeric(d)&&0<d?a.handler=window.setTimeout(function(){var f;null===a.start&&(a.observer.trigger(a.observer.events.animationStartEvent,[]),a.start=(new Date).getTime());f=(new Date).getTime()-a.start;a.progress=f/d;1<=a.progress&&(a.progress=1);a.observer.trigger(a.observer.events.animationStepEvent,[100*a.progress,
a]);1>a.progress?b(a,d):c(a)},a.delay):c(a)},e=function(a,d,b){a={$scene:a,options:d,observer:b,start:null,progress:0,delay:null,handler:null};a.delay=1E3/a.options.fps;return jQuery.extend(this,a)};e.prototype.play=function(a){b(this,a)};e.prototype.stop=function(){c(this)};jQuery.fn.jplist.animation.Timeline=function(a,d,b){return new e(a,d,b)}})();(function(){jQuery.fn.jplist.animation.fade={};jQuery.fn.jplist.animation.fade.before=function(c,b,e,a){};jQuery.fn.jplist.animation.fade.effect=function(c,b,e,a,d){b.find(c.itemPath).css({opacity:(100-d)/100})};jQuery.fn.jplist.animation.fade.after=function(c,b,e,a){b.empty();a.css({opacity:1});b.append(a)}})();(function(){var c=function(a,b,c,e){a.observer.trigger(a.observer.events.setStatusesEvent,[c,b]);jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,e,c)},b=function(a,b,e){var h=b.dataitemsToJqueryObject(),k=b.dataviewToJqueryObject(),l=!1,n,m=jQuery.extend(!0,{},a.options,{duration:0});0>=h.length||0>=k.length?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden"),c(a,b,e,k)):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"),
a.options.effect?(a.history&&(n=a.history.getLastStatus())&&!n.inAnimation&&(l=!0),l=l?m:a.options,jQuery.fn.jplist.animation.drawItems(l,a.$itemsBox,h,k,a.options.effect,a.timeline,function(){c(a,b,e,k)},a.observer)):(h.detach(),a.$itemsBox.append(k),c(a,b,e,k)))},e=function(a){a.observer.on(a.observer.events.renderList,function(c,e,h){b(a,e,h)})},a=function(a,b,c,h){a={options:b,$root:a,observer:c,history:h,timeline:null,timelineZero:null,$itemsBox:a.find(b.itemsBox).eq(0),$noResults:a.find(b.noResults)};
a.options.effect&&(a.timeline=new jQuery.fn.jplist.animation.Timeline(a.$root,a.options,a.observer));e(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.list.views.DOMView=function(b,c,e,h){return new a(b,c,e,h)}})();(function(){var c=function(b){b.observer.on(b.observer.events.renderStatusesEvent,function(a,d){b.storage.save(d);b.collection&&b.collection.applyStatuses(d);b.options.deepLinking&&b.observer.trigger(b.observer.events.changeUrlDeepLinksEvent,[])})},b=function(b,a,d,f,g){b={options:a,observer:d,$root:b,history:g,storage:new jQuery.fn.jplist.dal.Storage(b,a,d),collection:null,itemControls:null,listView:null};b.itemControls=new jQuery.fn.jplist.ui.list.collections.ItemControlCollection(b.options,b.observer,
b.history,b.$root);b.listView=new jQuery.fn.jplist.ui.list.views.DOMView(b.$root,b.options,b.observer,b.history);f=f.paths;a=b.$root.find(b.options.itemsBox).eq(0).find(b.options.itemPath);f=new jQuery.fn.jplist.domain.dom.collections.DataItemsCollection(b.options,b.observer,a,f);b.collection=f;c(b);return jQuery.extend(this,b)};jQuery.fn.jplist.ui.list.controllers.DOMController=function(c,a,d,f,g){return new b(c,a,d,f,g)}})();(function(){var c=function(b){b.observer.on(b.observer.events.renderList,function(a,d,c){var g="html";b.options.dataSource&&(b.options.dataSource.server&&b.options.dataSource.server.ajax)&&((g=b.options.dataSource.server.ajax.dataType)||(g="html"));b.storage.save(c);jQuery.fn.jplist.dal.services.URIService.get(c,b.options,function(a,d,c,f){a=new jQuery.fn.jplist.domain.server.models.DataItemModel(a,g,f.responseText);var m;c=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(b.options,b.observer,
d)).getStatusesByAction("paging",d);for(f=0;f<c.length;f++)m=c[f],m.data.currentPage||(m.data.currentPage=0),m=new jQuery.fn.jplist.domain.dom.services.PaginationService(m.data.currentPage,m.data.number,a.count),c[f].data.paging=m;b.model.set(a,d)},function(a){},function(a){})})},b=function(b,a,d,f,g){f=new jQuery.fn.jplist.dal.Storage(b,a,d);var h=jQuery({});h.$root=null;h.events={modelChanged:"modelChanged"};g={options:a,observer:d,history:g,storage:f,scopeObserver:h,$root:b,view:null,model:null};
g.model=new jQuery.fn.jplist.ui.list.models.DataItemModel(null,null,g.scopeObserver);g.view=new jQuery.fn.jplist.ui.list.views.ServerView(b,a,d,g.scopeObserver,g.model,g.history);c(g);return jQuery.extend(this,g)};jQuery.fn.jplist.ui.list.controllers.ServerController=function(c,a,d,f,g){return new b(c,a,d,f,g)}})();(function(){var c=function(a,b,c){a.observer.trigger(a.observer.events.setStatusesEvent,[c,b]);a.options.deepLinking&&a.observer.trigger(a.observer.events.changeUrlDeepLinksEvent,[]);jQuery.isFunction(a.options.redrawCallback)&&a.options.redrawCallback(b,c)},b=function(a,b,e){var h=!1,k,l=jQuery.extend(!0,{},a.options,{duration:0});!b.content||""===jQuery.trim(b.content)?(a.$noResults.removeClass("jplist-hidden"),a.$itemsBox.addClass("jplist-hidden")):(a.$noResults.addClass("jplist-hidden"),a.$itemsBox.removeClass("jplist-hidden"));
a.options.effect?(a.history&&(k=a.history.getLastStatus())&&!k.inAnimation&&(h=!0),h=h?l:a.options,jQuery.fn.jplist.animation.drawItems(h,a.$itemsBox,null,jQuery(b.content),a.options.effect,a.timeline,function(){c(a,b.content,e)},a.observer)):(a.options.dataSource&&jQuery.isFunction(a.options.dataSource.render)?a.options.dataSource.render(b,e):a.$itemsBox.html(b.content),c(a,b.content,e))},e=function(a){a.observer.on(a.observer.events.renderStatusesEvent,function(b,c){a.$noResults.addClass("jplist-hidden");
a.observer.trigger(a.observer.events.renderList,[a,c])});a.scopeObserver.on(a.scopeObserver.events.modelChanged,function(c,e,h){a.$preloader&&a.$preloader.addClass("jplist-hidden");a.$itemsBox.removeClass("jplist-hidden");b(a,e,h)})},a=function(a,b,c,h,k,l){a={options:b,$root:a,observer:c,scopeObserver:h,model:k,history:l,$itemsBox:a.find(b.itemsBox).eq(0),$noResults:a.find(b.noResults),$preloader:null,timeline:null};a.options.effect&&(a.timeline=new jQuery.fn.jplist.animation.Timeline(a.$root,a.options,
a.observer));e(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.list.views.ServerView=function(b,c,e,h,k,l){return new a(b,c,e,h,k,l)}})();(function(){jQuery.fn.jplist.ui.list.models.DataItemModel=function(c,b,e){this.dataItem=c;this.statuses=b;this.scopeObserver=e};jQuery.fn.jplist.ui.list.models.DataItemModel.prototype.set=function(c,b){this.dataItem=c;this.statuses=b;this.scopeObserver.trigger(this.scopeObserver.events.modelChanged,[c,b])}})();(function(){var c=function(b,c,a,d){return jQuery.extend(this,{options:b,observer:c,history:a,$root:d})};c.prototype.create=function(b){var c=null,a,d,f=null,g=null;a=b.attr("data-control-type");d={};jQuery.fn.jplist.itemControlTypes[a]&&(d=jQuery.extend(!0,{},d,jQuery.fn.jplist.itemControlTypes[a]));this.options.itemControlTypes&&this.options.itemControlTypes[a]&&(d=jQuery.extend(!0,{},d,this.options.itemControlTypes[a]));d&&(d.className&&(f=jQuery.fn.jplist.ui.itemControls[d.className]),d.options&&
(g=d.options));a={type:a,itemControlType:d,controlTypeClass:f,controlOptions:g};a=jQuery.extend(!0,a,{$control:b,history:this.history,observer:this.observer,options:this.options,$root:this.$root});a.controlTypeClass&&jQuery.isFunction(a.controlTypeClass)&&(c=new a.controlTypeClass(a));return c};jQuery.fn.jplist.ui.list.ItemControlFactory=function(b,e,a,d){return new c(b,e,a,d)}})();(function(){var c=function(b){var a;b.options&&b.options.itemsBox&&(a=b.$root.find(b.options.itemsBox),0<a.length&&a.find("[data-control-type]").each(function(){var a=jQuery(this);(a=b.controlFactory.create(a))&&b.controls.push(a)}))},b=function(b,a,d,f){var g={options:b,observer:a,history:d,$root:f,controls:[],controlFactory:null};g.controlFactory=new jQuery.fn.jplist.ui.list.ItemControlFactory(b,a,d,f);c(g);return jQuery.extend(this,g)};jQuery.fn.jplist.ui.list.collections.ItemControlCollection=
function(c,a,d,f){return new b(c,a,d,f)}})();(function(){var c=function(a){var b=jQuery(window).scrollTop(),c;c=Number(a.data("top"));isNaN(c)||(b>c?a.addClass("jplist-sticky"):a.removeClass("jplist-sticky"))},b=function(a,b){b.each(function(){var a=jQuery(this),b=a.offset().top;a.data("top",b);c(a)});jQuery(window).scroll(function(){b.each(function(){c(jQuery(this))})})},e=function(a){a.observer.on(a.observer.events.setStatusesEvent,function(b,c,d){a.controls.setStatuses(c,!1);a.history.addList(c);jQuery.fn.jplist.info(a.options,"Set statuses event: ",
c)});a.observer.on(a.observer.events.forceRenderStatusesEvent,function(b,c){var d;d=a.controls.getStatuses(c);jQuery.fn.jplist.info(a.options,"Force render statuses event: ",d);a.observer.trigger(a.observer.events.renderStatusesEvent,[d])});a.observer.on(a.observer.events.restoreEvent,function(b,c){a.controls.setStatuses(c,!0);jQuery.fn.jplist.info(a.options,"Restore from storage event: ",c);a.observer.trigger(a.observer.events.renderStatusesEvent,[c])});a.observer.on(a.observer.events.statusEvent,
function(b,c){var d;c.isAnimateToTop&&(d=jQuery(a.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:d},a.options.animateToTopDuration));d=a.controls.merge(!1,c);jQuery.fn.jplist.info(a.options,"Status event: ",d);a.observer.trigger(a.observer.events.renderStatusesEvent,[d])});a.observer.on(a.observer.events.changeUrlDeepLinksEvent,function(b){b="";if(a.options.deepLinking){b=a.controls.getDeepLinksUrl();jQuery.fn.jplist.info(a.options,"Change url (deep links event): ",b);
b=jQuery.trim(b.replace("#",""));var c;b=""===b?"#":"#"+b;window.location.hash!==b&&(c=window.location.href.indexOf("#"),b=-1==c?window.location.href+b:window.location.href.substring(0,c)+b,"replaceState"in window.history?window.history.replaceState("","",b):window.location.replace(b))}});a.observer.on(a.observer.events.setDeepLinksEvent,function(b){var c=window.decodeURIComponent(jQuery.trim(window.location.hash.replace("#",""))),d=!1;b=[];var d=[],e,n=[],m;if(a.options.deepLinking&&""!==jQuery.trim(c)){d=
c.split(a.options.delimiter1);for(c=0;c<d.length;c++)e=d[c],m=e.split("="),2===m.length&&(e=m[0],m=m[1],e=e.split(a.options.delimiter0),2===e.length&&(e={controlName:e[0],propName:e[1],propValue:m},n.push(e)))}jQuery.fn.jplist.info(a.options,"Set deep link event: ",n);0>=n.length?(d="cookies"===a.options.storage||"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())?("cookies"===a.options.storage&&(b=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(a.options.storageName)),
"localstorage"===a.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(b=jQuery.fn.jplist.dal.services.LocalStorageService.restore(a.options.storageName)),0<b.length?a.observer.trigger(a.observer.events.restoreEvent,[b]):a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])):a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!0]):a.controls.setDeepLinks(n)});a.$root.find(a.options.iosBtnPath).on("click",function(){jQuery(this).next(a.options.panelPath).toggleClass("jplist-ios-show")})},
a=function(a){var b;b=[];b=a.$root.find(a.options.panelPath).find("[data-control-type]");a.controls=new jQuery.fn.jplist.ui.panel.collections.ControlsCollection(a.options,a.observer,a.history,a.$root,b);a.paths=a.controls.getPaths();jQuery.fn.jplist.logEnabled(a.options)&&(b=jQuery.map(a.paths,function(a,b){return a&&a.jqPath?a.jqPath:""}),jQuery.fn.jplist.info(a.options,"Panel paths: ",b.join(", ")))},d=function(c,d,h,k){c={options:d,$root:c,history:h,observer:k,$sticky:null,paths:null,controls:null};
a(c);c.$sticky=c.$root.find('[data-sticky="true"]');0<c.$sticky.length&&b(c,c.$sticky);e(c);return jQuery.extend(this,c)};jQuery.fn.jplist.ui.panel.controllers.PanelController=function(a,b,c,e){a=new d(a,b,c,e);this.paths=a.paths;this.history=a.history;this.controls=a.controls}})();(function(){var c=function(b,c,a,d){return jQuery.extend(this,{options:b,observer:c,history:a,$root:d})};c.prototype.create=function(b){var c=null,a,d,f,g,h,k,l,n;a=b.attr("data-control-type");h=g=f=!0;k=!1;n=l=null;(d=b.attr("data-control-deep-link"))&&"false"===d.toString()&&(f=!1);(d=b.attr("data-control-storage"))&&"false"===d.toString()&&(g=!1);(d=b.attr("data-control-animation"))&&"false"===d.toString()&&(h=!1);(d=b.attr("data-control-animate-to-top"))&&"true"===d.toString()&&(k=!0);d={};jQuery.fn.jplist.controlTypes[a]&&
(d=jQuery.extend(!0,{},d,jQuery.fn.jplist.controlTypes[a]));this.options.controlTypes&&this.options.controlTypes[a]&&(d=jQuery.extend(!0,{},d,this.options.controlTypes[a]));d&&(d.className&&(l=jQuery.fn.jplist.ui.controls[d.className]),d.options&&(n=d.options));a={type:a,action:b.attr("data-control-action"),name:b.attr("data-control-name"),inDeepLinking:f,inStorage:g,inAnimation:h,isAnimateToTop:k,controlType:d,controlTypeClass:l,controlOptions:n,paths:[]};a=jQuery.extend(!0,a,{$control:b,history:this.history,
observer:this.observer,options:this.options,$root:this.$root});a.controlTypeClass&&jQuery.isFunction(a.controlTypeClass)&&(c=new a.controlTypeClass(a));return c};jQuery.fn.jplist.ui.panel.ControlFactory=function(b,e,a,d){return new c(b,e,a,d)}})();(function(){var c=jQuery.fn.jplist.domain,b=function(a,b){for(var c,e=0;e<a.length;e++)c=a[e],c.name===b.name&&c.action===b.action&&jQuery.extend(!0,c,b);return a},e=function(a,b){for(var c=[],e,k,l,n=0;n<a.controls.length;n++)if(e=a.controls[n],jQuery.isFunction(e.getStatus)&&(e=e.getStatus(b))){k=-1;l=void 0;for(var m=0;m<c.length;m++)if(l=c[m],l.name===e.name){k=m;break}-1!=k?(l=c[k],l.action==e.action&&l.type!==e.type&&jQuery.extend(!0,c[k],e)):c.push(e)}return c},a=function(a,b,c,e,k){k={options:a,
observer:b,history:c,$root:e,controlFactory:null,$controls:k,controls:[]};k.controlFactory=new jQuery.fn.jplist.ui.panel.ControlFactory(a,b,c,e);for(a=0;a<k.$controls.length;a++)c=k.$controls.eq(a),b=k,(c=b.controlFactory.create(c))&&b.controls.push(c);return jQuery.extend(this,k)};a.prototype.merge=function(a,c){var g;g=e(this,a);return g=b(g,c)};a.prototype.setDeepLinks=function(a){var c,g,h,k=[],l;for(l=0;l<a.length;l++){c=a[l];g=c.controlName;var n=[];h=void 0;for(var m=0;m<this.controls.length;m++)h=
this.controls[m],h.name===g&&n.push(h);g=n;for(n=0;n<g.length;n++)h=g[n],jQuery.isFunction(h.getStatusByDeepLink)&&(h=h.getStatusByDeepLink(c.propName,c.propValue))&&k.push(h)}a=e(this,!1);for(l=0;l<k.length;l++)b(a,k[l]);this.observer.trigger(this.observer.events.renderStatusesEvent,[a])};a.prototype.setStatuses=function(a,b){for(var c,e,k=0;k<a.length;k++){c=a[k];e=c.name;for(var l=c.action,n=[],m=void 0,q=0;q<this.controls.length;q++)m=this.controls[q],m.name===e&&m.action===l&&n.push(m);e=n;for(l=
0;l<e.length;l++)jQuery.isFunction(e[l].setStatus)&&e[l].setStatus(c,b)}};a.prototype.getDeepLinksUrl=function(){var a;a="";for(var b=[],c="",e=0;e<this.controls.length;e++)a=this.controls[e],jQuery.isFunction(a.getDeepLink)&&(c=jQuery.trim(a.getDeepLink())),""!==c&&-1===jQuery.inArray(c,b)&&b.push(c);return a=b.join(this.options.delimiter1)};a.prototype.getStatuses=function(a){return e(this,a)};a.prototype.getPaths=function(){var a,b=[],e;e=new c.dom.collections.DataItemMemberPathCollection(this.options,
this.observer);for(var h=0;h<this.controls.length;h++)a=this.controls[h],jQuery.isFunction(a.getPaths)&&(a.getPaths(b),e.addRange(b));return e.paths};a.prototype.add=function(a){(a=this.controlFactory.create(a))&&this.controls.push(a)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection=function(b,c,e,h,k){return new a(b,c,e,h,k)}})();(function(){var c=function(a){var b=[];a=jQuery();jQuery(document).find("[data-control-type]").each(function(){var a=jQuery(this),c=a.attr("data-control-type");c&&(jQuery.fn.jplist.controlTypes[c]&&jQuery.fn.jplist.controlTypes[c].dropdown)&&b.push(a)});for(var c=0;c<b.length;c++)a=a.add(b[c]);return a},b=function(a){var b=c(a);0<b.length&&(jQuery(document).click(function(){b.find("ul").hide()}),jQuery(document).off(a.DROPDOWN_CLOSE_EVENT).on(a.DROPDOWN_CLOSE_EVENT,function(a,c){b.each(function(){jQuery(this).is(c)||
jQuery(this).find("ul").hide()})}));a.$control.find(".jplist-dd-panel").off().on("click",function(b){var c;b.stopPropagation();b=jQuery(this).parents("[data-control-type]");c=b.find("ul");jQuery(document).trigger(a.DROPDOWN_CLOSE_EVENT,[b]);c.toggle(0)})},e=function(a,c,e,g){a={options:a,observer:c,history:e,$control:g,DROPDOWN_CLOSE_EVENT:"dropdown-close-event"};c=a.$control.find("li:eq(0)");c.addClass("active");c=c.find("span");0>=a.$control.find(".jplist-dd-panel").length&&a.$control.prepend('<div class="jplist-dd-panel">'+
c.text()+"</div>");b(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.panel.DropdownControl=function(a,b,c,g){return new e(a,b,c,g)}})();(function(){var c=function(b,c,a){b={options:c,observer:a,$root:b,isStorageEnabled:!1};b.isStorageEnabled="cookies"===b.options.storage||"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported();return jQuery.extend(this,b)};c.prototype.save=function(b){this.isStorageEnabled&&("cookies"===this.options.storage&&jQuery.fn.jplist.dal.services.CookiesService.saveCookies(b,this.options.storageName,this.options.cookiesExpiration),"localstorage"===this.options.storage&&
jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&jQuery.fn.jplist.dal.services.LocalStorageService.save(b,this.options.storageName))};jQuery.fn.jplist.dal.Storage=function(b,e,a){return new c(b,e,a)}})();(function(){jQuery.fn.jplist.dal.services.CookiesService={};jQuery.fn.jplist.dal.services.CookiesService.setCookie=function(c,b,e){b=escape(b);var a=new Date;e=Number(e);-1==e||isNaN(e)?document.cookie=c+"="+b+";path=/;":(a.setMinutes(a.getMinutes()+e),document.cookie=c+"="+b+";path=/; expires="+a.toUTCString())};jQuery.fn.jplist.dal.services.CookiesService.getCookie=function(c){var b,e,a,d=null;a=document.cookie.split(";");for(var f=0;f<a.length;f++)if(b=a[f].substr(0,a[f].indexOf("=")),e=a[f].substr(a[f].indexOf("=")+
1),b=b.replace(/^\s+|\s+$/g,""),b==c){d=unescape(e);break}return d};jQuery.fn.jplist.dal.services.CookiesService.saveCookies=function(c,b,e){c=JSON.stringify(c);jQuery.fn.jplist.dal.services.CookiesService.setCookie(b,c,e)};jQuery.fn.jplist.dal.services.CookiesService.restoreCookies=function(c){var b=[];(c=jQuery.fn.jplist.dal.services.CookiesService.getCookie(c))&&(b=jQuery.parseJSON(c));b||(b=[]);return b}})();(function(){jQuery.fn.jplist.dal.services.LocalStorageService={};jQuery.fn.jplist.dal.services.LocalStorageService.supported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(c){return!1}};jQuery.fn.jplist.dal.services.LocalStorageService.save=function(c,b){var e;e=JSON.stringify(c);window.localStorage[b]=e};jQuery.fn.jplist.dal.services.LocalStorageService.restore=function(c){var b=[];(c=window.localStorage[c])&&(b=jQuery.parseJSON(c));b||(b=[]);return b}})();(function(){jQuery.fn.jplist.dal.services.URIService={};jQuery.fn.jplist.dal.services.URIService.get=function(c,b,e,a,d){var f=b.dataSource.server;f.ajax.data||(f.ajax.data={});f.ajax.data.statuses=encodeURIComponent(JSON.stringify(c,function(a,b){return b&&b.nodeType?null:b}));jQuery.ajax(f.ajax).done(function(a,b,d){jQuery.isFunction(e)&&e(a,c,b,d);jQuery.isFunction(f.serverOkCallback)&&f.serverOkCallback(a,c,b,d)}).fail(function(){jQuery.isFunction(a)&&a(c);jQuery.isFunction(f.serverErrorCallback)&&
f.serverErrorCallback(c)}).always(function(){jQuery.isFunction(d)&&d(c)})}})();
